<!-- .material-icons.md-64 { font-size: 64px; } -->

<div class="project">
  <div class="project-header" layout="row">
    <span flex="15">
      <div class="center">
        Changelist / Build 
      </div>
    </span>
    <span flex="15">
      <div class="center">Owner</div>
    </span>
    <span flex="20">
      <div class="center">
        Time started
      </div>
    </span>
    <span flex="10">
      <div class="center">
        State
      </div>
    </span>
    <span flex="10">
      <div class="center">
        Metrics
      </div>
    </span>
    <span flex="10">
      <div class="center">
        Build
      </div>
    </span>
    <span flex="10">
      <div class="center">
        Unit Test
      </div>
    </span>
    <span flex="10">
      <div class="center">
        Functional Test
      </div>
    </span>
  </div>

  <div class="project-row"
    ng-repeat="project in DashboardCtrl.projects"
    ng-class="{ 'selected': project.isSelected, '{{::project.state}}': project.state }"
    ng-click="DashboardCtrl.expand(project)"
    layout="column">
     <!-- layout-align=" center"
layout-padding layout-margin layout-fill
> -->
    <!-- layout-margin
    layout-padding> -->

    <div class="contract" layout="row" flex >
      <!-- layout-align="centercenter" -->
      <span flex="5">
        <i class="material-icons md-36">{{::project.icon}}</i>
      </span>
      <span flex="10">{{::project.name}}</span>

      <span flex="15">
        <div class="center">{{::project.owner}}</div>
      </span>
      <span flex="20">
        <div class="center">
          {{::project.time}}
        </div>
      </span>
      <span class="state" flex="10">
        <div class="center">
          {{::project.state}}
        </div>
      </span>
      <span flex="10">
        <status-bar ng-class="{ 'success': {{project.metrics.success}},
                                'error': {{project.metrics.error > 5}} }">
        </status-bar>
      </span>
      <span flex="10">
        <status-bar ng-class="{ 'success': {{project.build.success}},
                                'error': {{project.build.error > 5}} }">
        </status-bar>
      </span>
      <span flex="10">
        <status-bar ng-class="{ 'success': {{project.unitTest.success}},
                                'error': {{project.unitTest.error > 5}} }">
        </status-bar>
      </span>
      <span flex="10">
        <status-bar ng-class="{ 'success': {{project.functionalTest.success}},
                                'error': {{project.functionalTest.error > 5}} }">
        </status-bar>
      </span>
    </div>
    <div layout="row" flex ng-if="project.isSelected">
      <span flex style="height: 250px; background: tomato"></span>
      <span flex style="height: 250px; background: aqua"></span>
      <span flex style="height: 250px; background: pink"></span>
      <div flex>
        <pie-chart data="::project.unitTest" width="150" height="150"></pie-chart>
        <coverage-bar title="{{project.unitTest.coverage + '%'}}" subtitle="code covered">
        </coverage-bar>
      </div>
      <div flex>
        <md-card md-theme="default" md-theme-watch>
          <md-card-title>
            <md-card-title-text>
              <span class="md-subhead">Functional Test</span>
              <pie-chart data="::project.functionalTest" width="120" height="120"></pie-chart>
            </md-card-title-text>
          </md-card-title>
        </md-card>
      </div>
    </div>
  </div>
</div>
